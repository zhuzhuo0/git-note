## 疯狂java讲义 学习笔记

#### 第一章：Java语言概述与开发环境

```
# 运行环境（JRE） 开发环境（JDK） JIT（即时编译）
# JDK全程Java SE Development Kit 即java标准版开发包，它提供了java程序所需的各种工具和资源，包括java编译器、java运行时环境以及常用的java类库
# java运行时环境，全程Java Runtime Environment，也被称为JRE
# 一般而言，如果只是运行Java程序，可以只安装JRE，无需安装JDK
# JRE包含JVM，JVM是运行Java程序的核心虚拟机，而运行Java程序不仅需要核心虚拟机，还需要其他的类加载器、字节码校验器以及大量的基础类库，JRE除包含JVM之外，还包含运行Java程序的其他环境支持
# .java文件执行过程：1.将源文件编译成字节码 2.JVM解释执行平台无关的字节码程序

# 编译java程序
# 将java源文件转成字节码
# javac -d destdir srcFile => javac -d [生成的字节码文件的存放路径] [java源文件所在位置]
# javac编译后生成的字节码文件有默认的文件名：文件名总是以源文件所定义类的类名作为主文件名，以.class作为扩展名，这意味着如果一个源文件里定义了多个类，将编译生成多个字节码文件。事实上指定目标文件存放位置的-d选项也是可以省略的，如果省略了该项，则意味着将生成的字节码文件放在当前路径下

# Java程序的基本规则
# java程序是一种纯粹的面向对象的程序设计语言，因此java程序必须以类（class）的形式存在，类（class）是java程序的最小程序单位，Java程序不允许可执行语句、方法等成分独立存在，所有的程序部分必须放在类定义里

# 最简单的类定义
class Test{}
# javac编译这个类不会出错，但是java命令运行这个类会出错
# java解释器规定：如果某个类能被解释器直接解释执行，则这个类里必须包含main方法，而且main方法必须使用public static 修饰，必须使用void声明该方法的返回值，且main方法的形参必须是字符串数组类型（String[] args 是字符串数组的形式）
# java程序源文件的命名规则
1.java程序源文件的扩展名必须是.java，不能是其他文件扩展名
2.在通常情况，java程序源文件的主文件名可以是任意的，但有一种特殊情况例外：如果java程序源代码里定义了一个public类，则该文件的主文件名必须与该public类（也就是该类定义使用了public关键字修饰）的类名相同
# 由于java程序源文件的文件名必须与public类的类名相同，因此，一个java源文件里最多只能定义一个public类
# 一个java源程序可以包含多个类定义，各个类之间完全独立，只是定义在同一个源文件中而已
# 示例
class Dog{}
class Cat{}
class item{}
# 上面程序使用同一个源文件定义了三个独立的类，使用javac命令编译该java程序，将会生成3个.class文件，每个类对应一个.class文件
# 虽然java源文件里没有包含public类定义时，这个源文件的文件名可以是随意的，但推荐让java源文件的主文件名与类名相同，这可以提供更好的可读性，通常有如下推荐：
1.一个java源文件通常只定义一个类，不同的类使用不同的源文件定义
2.让java源文件的主文件名与该源文件中定义的public类同名

# 常见问题：
# java语言是严格区分大小写的；java程序中的关键字全部都是小写的，无需大写任何字母
# 路径里包含空格的问题，安装的路径不要包含任何空格，以防出现问题

# java程序中的输出
# System.out.print(内容) 输出结束后不会换行
# System.out.println(内容) 输出结束后会换行

# jdk9之后内置了交互式工具：jshell，可以直接写简单代码并运行

# Java11改进的垃圾回收器
# 内存泄漏：
如果一些分配出去的内存得不到及时回收，就会引起系统运行速度下降，设置导致程序瘫痪，这种现象称为内存泄漏
# 垃圾回收：通常JRE会提供一个后台线程来进行检测和控制，一般都是在CPU空闲或内存不足时自动进行垃圾回收，而程序员无法精确控制垃圾回收的时间和顺序
# java中，当没有引用变量指向原先分配给某个对象的内存时，该内存便成为垃圾。JVM的一个超级线程会自动释放该内存区
# 除了释放没用的对象外，垃圾回收也可以清除内存记录碎片，碎片是分配给对象的内存块之间的空闲内存区，碎片整理将所占有的堆内存移动到堆的一端，JVM将整理出的内存分配给新的对象
# 垃圾回收的一个潜在缺点是它的开销影响程序性能，java虚拟机必须跟踪程序中有用的对象，才可以确定哪些对象是无用的对象，并最终释放这些无用的对象，这个过程需要花费处理器的时间
# 建议措施：
1.可以将对象的引用变量设置为null，通过这种方式暗示垃圾回收器可以回收该对象
2.虽然程序员可以通过调用Runtime对象的gc()或System.gc()等方法来建议系统进行垃圾回收，但这种调用仅仅是建议，依然不能精确控制垃圾回收机制的执行

```

#### 第二章：理解面向对象

```
# 目前软件开发主流的两种开发方法：结构化开发方法和面向对象开发方法

# 结构化开发方法：
# 结构化程序设计方法主张按功能来分析系统需求，其主要原则可概括为自顶向下、逐步求精、模块化等
# 结构化程序设计里最小的程序单元是函数，每个函数都负责完成一个功能，用以接收一些输入数据，函数对这些输入数据进行处理，处理结束后输出一些数据
# 结构化设计需要采用自顶向下的设计方式，在设计阶段就要考虑每个模块应该分解成哪些子模块，每个子模块又分解成哪些更小的模块，直至将模块细化成一个个函数
# 局限性：1.设计不够直观，与人类习惯思维不一致  2.适应性差，可扩展性不强

# 程序的三种基本结构：
1.顺序结构：表示程序中的各个操作都是按照他们在源代码中的排列顺序依次执行的
2.选择结构：分单选择（如果true/false多执行分支），双选择（要么true，要么false，两个分支走一个），多选择（类似if.. else if..）
3.循环结构：分当型循环（先判断后执行）和直到循环（先执行，再判断是否继续）
# 以上三种基本结构在类中的方法里完全体现

# 面向对象程序设计
# 基本思想：使用类、对象、继承、封装、消息等基本概念进行程序设计
# 成员变量（状态数据）+ 方法（行为）= 类定义
# 三大基本特征：封装、继承、多态
# 封装：将对象的实现细节隐藏起来，通过一些公用方法来暴露该对象的功能
# 继承：当子类继承父类后，子类作为一种特殊的父类，将直接获得父类的属性和方法 
# 多态：指的是子类对象可以直接赋给父类变量，但运行时依然表现出子类的行为特征，这意味着同一个类型的对象在执行同一个方法时，可能表现出多种行为特征
# 面向对象还支持如下几个功能
1.对象间的这种相互合作需要一个机制协助进行，这样的机制称为‘消息’。消息是一个实例与另一个实例之间相互通信的机制

# 总结：面向对象的程序单元是类；而面向过程的程序单元是函数（相当于方法），因此面向对象比面向过程更简单、易用

# java不支持多继承

# UML（统一建模语言）介绍
 
# 面向对象软件开发需要经过OOA（面向对象分析）、OOD（面向对象设计）和OOP（面向对象编程）
# OOA和OOD的分析、设计结果需要统一的符号来描述、交流并记录，UML就是这种用于描述、记录OOA和OOD结果的符号表示法
# UML2.0包含13种正式图形：活动图、类图、通信图、组件图、复合结构图、部署图、交互概观图、对象图、包图、顺序图、状态机图、定时图、用例图
# 常用的7种UML图：
1.用例图：用于描述系统提供的系列功能，而每个用例则代表系统的一个功能模块
2.类图：显示系统的静态机构，包含类名，属性和方法（类之间的三种基本关系：关联（包括聚合、组合），泛化（与继承同一个概念），依赖），具体关系的描述看书
3.组件图：提供系统的物理视图，它的用途是显示系统中的软件对其他软件组件的依赖关系（包含：组件、接口和Port）
4.部署图：用于描述软件系统如何部署到硬件的环境中，他的用途是显示软件系统不同的组件将在何处物理运行，以及他们如何彼此通信
5.顺序图：显示具体用例的详细流程，垂直维度（以发生的时间顺序显示消息/调用的序列）；水平纬度（显示消息被发送到的对象实例）
6.活动图：用于描述用例内部的活动或方法的流程
7.状态机图：表示某个对象所处的不同状态和该类的状态转换信息

# Java的面向对象特征

# Java是纯粹的面向对象编程语言，完全支持面向对象的三大基本特征：封装、继承和多态，Java程序的组成单位就是类，不管多大的Java应用程序，都是由一个个类组成的

# 在Java语言中，除了8个基本数据类型值之外，一切都是对象

# 对象具有状态，一个对象用数据值来描述他的状态，Java通过为对象定义成员变量来描述对象的状态；对象还有操作，这些操作可以改变对象的状态，对象的操作也被称为对象的行为，Java通过为对象定义方法来描述对象的行为

# 类和对象
# 具有相同或相似性质的一组对象的抽象就是类，类是对一类事物的描述，是抽象的、概念上的定义；对象是实际存在的该类事物的个体，因而也称为实例

# 类之间的结构关系：
# 一般 => 特殊关系 这种关系就是典型的继承关系 一般=>父类、大类  特殊=>子类、小类
# 例如：水果 => 苹果
# 整体 => 部分关系 也被称为组装结构，这是典型的组合关系，Java语言通过在一个类里保存另一个对象的引用来实现这种组合关系。
# 例如：汽车 包含 车轮

```



#### 